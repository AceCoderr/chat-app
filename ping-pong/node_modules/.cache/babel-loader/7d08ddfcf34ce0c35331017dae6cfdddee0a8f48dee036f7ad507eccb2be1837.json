{"ast":null,"code":"var _jsxFileName = \"A:\\\\Akka\\\\chat-app\\\\ping-pong\\\\src\\\\Components\\\\Chat.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport '../Styles/Chat.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Chat({\n  roomData,\n  username,\n  setUsername\n}) {\n  _s();\n  const {\n    roomId\n  } = useParams();\n  const navigate = useNavigate();\n  const [messages, setMessages] = useState([]);\n  const [inputMessage, setInputMessage] = useState('');\n  const [participants, setParticipants] = useState([]);\n  const [connected, setConnected] = useState(false);\n  const [showNamePrompt, setShowNamePrompt] = useState(!username);\n  const [tempUsername, setTempUsername] = useState('');\n  const [error, setError] = useState(null);\n  const websocketURL = process.env.REACT_APP_WEBSOCKET_API_URL;\n  const socketRef = useRef(null);\n  const messagesEndRef = useRef(null);\n\n  // Handle initial connection and cleanup\n  useEffect(() => {\n    if (username && !connected) {\n      connectToRoom();\n    }\n    return () => {\n      disconnectFromRoom();\n    };\n  }, [roomId, username]);\n\n  // Auto-scroll to bottom when new messages arrive\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  const connectToRoom = () => {\n    try {\n      const encodedUsername = encodeURIComponent(username);\n      const wsUrl = websocketURL + `/roomId=${roomId}?username=${encodedUsername}`;\n      const socket = new WebSocket(wsUrl);\n      socketRef.current = socket;\n      socket.onopen = () => {\n        console.log('WebSocket connection established');\n        setConnected(true);\n\n        // Send join message with username\n        // const joinMessage = {\n        //   type: 'JOIN',\n        //   username: username,\n        //   timestamp: new Date().toISOString()\n        // };\n        // socket.send(JSON.stringify(joinMessage));\n\n        // Add system message\n        setMessages(prev => [...prev, {\n          text: `You joined the chat as ${username}`,\n          type: 'system'\n        }]);\n      };\n      socket.onmessage = event => {\n        console.log(event.data);\n        const message = JSON.parse(event.data);\n        if (message.type === 'USER_LIST') {\n          setParticipants(message.users);\n        } else if (message.type === 'USER_JOINED') {\n          console.log(\"in here\");\n          setParticipants(prev => [...prev, message.username]);\n          setMessages(prev => [...prev, {\n            text: `${message.username} joined the chat`,\n            type: 'system'\n          }]);\n        } else if (message.type === 'USER_LEFT') {\n          setParticipants(prev => prev.filter(user => user !== message.username));\n          setMessages(prev => [...prev, {\n            text: `${message.username} left the chat`,\n            type: 'system'\n          }]);\n        } else {\n          // Regular chat message\n          setMessages(prev => [...prev, {\n            text: message.text,\n            type: message.username === username ? 'sent' : 'received',\n            sender: message.username\n          }]);\n        }\n      };\n\n      // socket.onclose = () => {\n      //   console.log('WebSocket connection closed');\n      //   setConnected(false);\n      //   setMessages(prev => [...prev, { text: 'Disconnected from chat server', type: 'system' }]);\n      // };\n\n      socket.onerror = error => {\n        console.error('WebSocket error:', error);\n        setError('Connection error. Please try again.');\n        setConnected(false);\n      };\n    } catch (err) {\n      setError(`WebSocket connection error: ${err.message}`);\n    }\n  };\n  const disconnectFromRoom = () => {\n    if (socketRef.current) {\n      socketRef.current.close();\n      socketRef.current = null;\n    }\n  };\n  const handleSetUsername = () => {\n    if (!tempUsername.trim()) return;\n    setUsername(tempUsername);\n    setShowNamePrompt(false);\n  };\n  const sendMessage = e => {\n    e.preventDefault();\n    if (!inputMessage.trim() || !connected || !socketRef.current) return;\n    const messageObject = {\n      type: 'MESSAGE',\n      text: inputMessage,\n      username: username,\n      timestamp: new Date().toISOString()\n    };\n    socketRef.current.send(JSON.stringify(messageObject));\n    setInputMessage('');\n  };\n  const leaveRoom = () => {\n    disconnectFromRoom();\n    navigate('/');\n  };\n  if (showNamePrompt) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"name-prompt-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"name-prompt-modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Join \", (roomData === null || roomData === void 0 ? void 0 : roomData.name) || 'Chat Room']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Please enter your name to join the chat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: tempUsername,\n          onChange: e => setTempUsername(e.target.value),\n          placeholder: \"Your name\",\n          autoFocus: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSetUsername,\n          disabled: !tempUsername.trim(),\n          children: \"Join Chat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"room-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: (roomData === null || roomData === void 0 ? void 0 : roomData.name) || 'Chat Room'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"participant-count\",\n          children: [participants.length, \" participant\", participants.length !== 1 ? 's' : '']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: leaveRoom,\n        className: \"leave-button\",\n        children: \"Leave Room\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Participants\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"participants-list\",\n          children: participants.map((user, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: user === username ? 'current-user' : '',\n            children: [user, \" \", user === username && '(you)']\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-main\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"messages-container\",\n          children: [messages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `message ${msg.type}`,\n            children: [msg.type === 'received' && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"sender\",\n              children: msg.sender\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 45\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-bubble\",\n              children: msg.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 17\n            }, this), msg.type === 'sent' && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"sender\",\n              children: \"You\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 41\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 15\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: messagesEndRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: sendMessage,\n          className: \"message-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: inputMessage,\n            onChange: e => setInputMessage(e.target.value),\n            placeholder: \"Type a message...\",\n            disabled: !connected,\n            className: \"message-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: !connected || !inputMessage.trim(),\n            className: \"send-button\",\n            children: \"Send\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 174,\n    columnNumber: 5\n  }, this);\n}\n_s(Chat, \"c84Zkbo0E/TZBoeqXtCWp1VbPJQ=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = Chat;\nexport default Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useParams","useNavigate","jsxDEV","_jsxDEV","Chat","roomData","username","setUsername","_s","roomId","navigate","messages","setMessages","inputMessage","setInputMessage","participants","setParticipants","connected","setConnected","showNamePrompt","setShowNamePrompt","tempUsername","setTempUsername","error","setError","websocketURL","process","env","REACT_APP_WEBSOCKET_API_URL","socketRef","messagesEndRef","connectToRoom","disconnectFromRoom","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","encodedUsername","encodeURIComponent","wsUrl","socket","WebSocket","onopen","console","log","prev","text","type","onmessage","event","data","message","JSON","parse","users","filter","user","sender","onerror","err","close","handleSetUsername","trim","sendMessage","e","preventDefault","messageObject","timestamp","Date","toISOString","send","stringify","leaveRoom","className","children","name","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","target","placeholder","autoFocus","onClick","disabled","length","map","index","msg","ref","onSubmit","_c","$RefreshReg$"],"sources":["A:/Akka/chat-app/ping-pong/src/Components/Chat.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport '../Styles/Chat.css';\r\n\r\nfunction Chat({ roomData, username, setUsername }) {\r\n  const { roomId } = useParams();\r\n  const navigate = useNavigate();\r\n  \r\n  const [messages, setMessages] = useState([]);\r\n  const [inputMessage, setInputMessage] = useState('');\r\n  const [participants, setParticipants] = useState([]);\r\n  const [connected, setConnected] = useState(false);\r\n  const [showNamePrompt, setShowNamePrompt] = useState(!username);\r\n  const [tempUsername, setTempUsername] = useState('');\r\n  const [error, setError] = useState(null);\r\n\r\n  const websocketURL = process.env.REACT_APP_WEBSOCKET_API_URL\r\n  const socketRef = useRef(null);\r\n  const messagesEndRef = useRef(null);\r\n\r\n  // Handle initial connection and cleanup\r\n  useEffect(() => {\r\n    if (username && !connected) {\r\n      connectToRoom();\r\n    }\r\n\r\n    return () => {\r\n      disconnectFromRoom();\r\n    };\r\n  }, [roomId, username]);\r\n\r\n\r\n  // Auto-scroll to bottom when new messages arrive\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  const connectToRoom = () => {\r\n    try {\r\n      const encodedUsername = encodeURIComponent(username);\r\n\r\n      const wsUrl = websocketURL + `/roomId=${roomId}?username=${encodedUsername}`;\r\n      const socket = new WebSocket(wsUrl);\r\n      socketRef.current = socket;\r\n\r\n\r\n      socket.onopen = () => {\r\n        console.log('WebSocket connection established');\r\n        setConnected(true);\r\n        \r\n        // Send join message with username\r\n        // const joinMessage = {\r\n        //   type: 'JOIN',\r\n        //   username: username,\r\n        //   timestamp: new Date().toISOString()\r\n        // };\r\n        // socket.send(JSON.stringify(joinMessage));\r\n        \r\n        // Add system message\r\n        setMessages(prev => [...prev, { \r\n          text: `You joined the chat as ${username}`, \r\n          type: 'system' \r\n        }]);\r\n      };\r\n\r\n      socket.onmessage = (event) => {\r\n        console.log(event.data)\r\n        const message = JSON.parse(event.data);\r\n        \r\n        if (message.type === 'USER_LIST') {\r\n          setParticipants(message.users);\r\n        } else if (message.type === 'USER_JOINED') {\r\n          console.log(\"in here\")\r\n          setParticipants(prev => [...prev, message.username]);\r\n          setMessages(prev => [...prev, { \r\n            text: `${message.username} joined the chat`, \r\n            type: 'system' \r\n          }]);\r\n        } else if (message.type === 'USER_LEFT') {\r\n          setParticipants(prev => prev.filter(user => user !== message.username));\r\n          setMessages(prev => [...prev, { \r\n            text: `${message.username} left the chat`, \r\n            type: 'system' \r\n          }]);\r\n        } else {\r\n          // Regular chat message\r\n          setMessages(prev => [...prev, { \r\n            text: message.text, \r\n            type: message.username === username ? 'sent' : 'received', \r\n            sender: message.username \r\n          }]);\r\n        }\r\n      };\r\n\r\n      // socket.onclose = () => {\r\n      //   console.log('WebSocket connection closed');\r\n      //   setConnected(false);\r\n      //   setMessages(prev => [...prev, { text: 'Disconnected from chat server', type: 'system' }]);\r\n      // };\r\n\r\n      socket.onerror = (error) => {\r\n        console.error('WebSocket error:', error);\r\n        setError('Connection error. Please try again.');\r\n        setConnected(false);\r\n      };\r\n    } catch (err) {\r\n      setError(`WebSocket connection error: ${err.message}`);\r\n    }\r\n  };\r\n\r\n  const disconnectFromRoom = () => {\r\n    if (socketRef.current) {\r\n      socketRef.current.close();\r\n      socketRef.current = null;\r\n    }\r\n  };\r\n\r\n  const handleSetUsername = () => {\r\n    if (!tempUsername.trim()) return;\r\n    \r\n    setUsername(tempUsername);\r\n    setShowNamePrompt(false);\r\n  };\r\n\r\n  const sendMessage = (e) => {\r\n    e.preventDefault();\r\n    if (!inputMessage.trim() || !connected || !socketRef.current) return;\r\n\r\n    const messageObject = {\r\n      type: 'MESSAGE',\r\n      text: inputMessage,\r\n      username: username,\r\n      timestamp: new Date().toISOString()\r\n    };\r\n\r\n    socketRef.current.send(JSON.stringify(messageObject));\r\n    setInputMessage('');\r\n  };\r\n\r\n  const leaveRoom = () => {\r\n    disconnectFromRoom();\r\n    navigate('/');\r\n  };\r\n\r\n  if (showNamePrompt) {\r\n    return (\r\n      <div className=\"name-prompt-overlay\">\r\n        <div className=\"name-prompt-modal\">\r\n          <h2>Join {roomData?.name || 'Chat Room'}</h2>\r\n          <p>Please enter your name to join the chat</p>\r\n          <input\r\n            type=\"text\"\r\n            value={tempUsername}\r\n            onChange={(e) => setTempUsername(e.target.value)}\r\n            placeholder=\"Your name\"\r\n            autoFocus\r\n          />\r\n          <button \r\n            onClick={handleSetUsername}\r\n            disabled={!tempUsername.trim()}\r\n          >\r\n            Join Chat\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"chat-page\">\r\n      <div className=\"chat-header\">\r\n        <div className=\"room-info\">\r\n          <h2>{roomData?.name || 'Chat Room'}</h2>\r\n          <span className=\"participant-count\">\r\n            {participants.length} participant{participants.length !== 1 ? 's' : ''}\r\n          </span>\r\n        </div>\r\n        <button onClick={leaveRoom} className=\"leave-button\">\r\n          Leave Room\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"chat-container\">\r\n        <div className=\"sidebar\">\r\n          <h3>Participants</h3>\r\n          <ul className=\"participants-list\">\r\n            {participants.map((user, index) => (\r\n              <li key={index} className={user === username ? 'current-user' : ''}>\r\n                {user} {user === username && '(you)'}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n\r\n        <div className=\"chat-main\">\r\n          <div className=\"messages-container\">\r\n            {messages.map((msg, index) => (\r\n              <div key={index} className={`message ${msg.type}`}>\r\n                {msg.type === 'received' && <span className=\"sender\">{msg.sender}</span>}\r\n                <div className=\"message-bubble\">{msg.text}</div>\r\n                {msg.type === 'sent' && <span className=\"sender\">You</span>}\r\n              </div>\r\n            ))}\r\n            <div ref={messagesEndRef} />\r\n          </div>\r\n\r\n          <form onSubmit={sendMessage} className=\"message-form\">\r\n            <input\r\n              type=\"text\"\r\n              value={inputMessage}\r\n              onChange={(e) => setInputMessage(e.target.value)}\r\n              placeholder=\"Type a message...\"\r\n              disabled={!connected}\r\n              className=\"message-input\"\r\n            />\r\n            <button \r\n              type=\"submit\" \r\n              disabled={!connected || !inputMessage.trim()}\r\n              className=\"send-button\">\r\n              Send\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n\r\n      {error && <div className=\"error-message\">{error}</div>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Chat;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}